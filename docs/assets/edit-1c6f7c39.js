import{k as R,u as T,b as U,a as W,l as D,s as G,m as q,W as I,M as L,B as Y,N as z,P as F,n as H,j as J,o as K,p as Q,f as X,g as Z,_ as ee}from"./Player.vue_vue_type_script_setup_true_lang-128d4d7c.js";import{d as te,r as b,e as ne,w as h,p as oe,o as se,c as ie,j as re,a as n,k as x,q as k,h as a,s as w,g as f,i as le}from"./index-d9ea42c0.js";const ae={"m-auto":"","w-fit":"",p4:""},pe={flex:"","justify-center":"",p2:""},ce={flex:"","place-content-between":""},ue=n("label",{for:"rows"},"rows: ",-1),de={"ml-2":"",flex:"","place-content-between":""},fe=n("label",{for:"cols"},"cols: ",-1),me={flex:"","place-content-around":"","items-center":"","py-2":""},_e=n("img",{src:K},null,-1),ge=[_e],ve=n("div",{h4:"",w4:"",border:"~ rounded gray-200 dark:gray-400"},null,-1),ye=[ve],be=n("img",{src:Q},null,-1),he=[be],E=!0,Ee=te({__name:"edit",setup(xe){const c=b(8),p=b(8),{map:r,setup:m}=R(),{position:_,setup:g}=T(),{positions:o,setup:v}=U(),{positions:s,setup:y}=W(),C=ne(()=>`/?game=${D()}`),u={top:-1,left:-1};G({map:Array.from({length:c.value},()=>Array.from({length:p.value},()=>0)),mines:[],boxes:[],player:Object.assign({},u)}),h(c,(t,e)=>{e<t?(r.push(Array.from({length:p.value},()=>0)),m(r)):(r.pop(),m(r),M(t))});function M(t){_.top===t&&g(Object.assign({},u));for(let e=0;e<o.length;e++)o[e].top===t&&(o.splice(e,1),e--);v(o);for(let e=0;e<s.length;e++)s[e].top===t&&(s.splice(e,1),e--);y(s)}h(p,(t,e)=>{e<t?(r.forEach(i=>i.push(0)),m(r)):(r.forEach(i=>i.pop()),m(r),$(t))});function $(t){_.left===t&&g(Object.assign({},u));for(let e=0;e<o.length;e++)o[e].left===t&&(o.splice(e,1),e--);v(o);for(let e=0;e<s.length;e++)s[e].left===t&&(s.splice(e,1),e--);y(s)}const{setSelectElement:B}=q();function d(t){B(t)}const P=oe();function j(){S()&&P.replace(C.value)}function S(){return!(_.top===u.top&&_.left===u.left||o.length!==s.length||o.length===0)}return(t,e)=>{const i=H,A=X,N=Z,V=ee,O=J;return se(),ie("div",ae,[re(" EDIT MAP "),n("div",pe,[n("div",ce,[ue,x(n("input",{id:"rows","onUpdate:modelValue":e[0]||(e[0]=l=>w(c)?c.value=l:null),type:"number","ml-2":"","w-12":"",p0:"",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none"},null,512),[[k,a(c)]])]),n("div",de,[fe,x(n("input",{id:"cols","onUpdate:modelValue":e[1]||(e[1]=l=>w(p)?p.value=l:null),type:"number","ml-2":"","w-12":"",p0:"",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none"},null,512),[[k,a(p)]])])]),n("div",me,[f(i,{onClick:e[2]||(e[2]=l=>d(a(I)))}),n("div",{onClick:e[3]||(e[3]=l=>d(a(L)))},ge),n("div",{h5:"",w5:"",flex:"","items-center":"","justify-center":"",border:"~ rounded gray-200 dark:gray-400",onClick:e[4]||(e[4]=l=>d(a(Y)))},ye),n("div",{title:"clear",h5:"",w5:"",border:"~ rounded gray-200 dark:gray-400",onClick:e[5]||(e[5]=l=>d(a(z)))}),n("div",{onClick:e[6]||(e[6]=l=>d(a(F)))},he)]),f(O,{"is-edit":E},{default:le(()=>[f(A),f(N),f(V,{"is-edit":E})]),_:1}),n("div",{"mt-4":"",btn:"",onClick:j}," GO PLAY ")])}}});export{Ee as default};
